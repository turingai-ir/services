http://api.perpixai.com {
    reverse_proxy http://api:8000

    cors {
        allow_origin https://*.perpixai.com
        allow_methods GET, POST, PUT, DELETE, OPTIONS
        allow_headers Content-Type, Authorization
    }

    request_body {
        max_size 50MB
    }

    header {
        X-Content-Type-Options "nosniff"
        X-Frame-Options "DENY"
        X-XSS-Protection "1; mode=block"
    }
}

http://cdn.perpixai.com {
    reverse_proxy http://minio:9000

    cors {
        allow_origin https://*.perpixai.com
        allow_methods GET, POST, PUT, DELETE, OPTIONS
        allow_headers Content-Type, Authorization
    }
}

http://app.perpixai.com {
    reverse_proxy http://perpixai-app:80

    cors {
        allow_methods GET, POST, PUT, DELETE, OPTIONS
        allow_headers Content-Type, Authorization
    }
}

header {
    X-Content-Type-Options "nosniff"
    X-Frame-Options "DENY"
    X-XSS-Protection "1; mode=block"
}

log {
    rotate {
        max_size 100MB
        max_age 30d
        max_backups 5
    }
}

http://perpixai.com {
    reverse_proxy http://perpixai-api:8000
    cors {
        allow_origin https://*.perpixai.com
        allow_methods GET, POST, PUT, DELETE, OPTIONS
        allow_headers Content-Type, Authorization
    }
    request_body {
        max_size 50MB
    }
}
